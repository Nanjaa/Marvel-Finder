<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Track your comics</title>
  <meta name="description" content="Track your comics, find new comics, and keep a schedule of when new issues will be released">
  <meta name="author" content="Stephanie Olfert">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Quicksand|Bangers|Luckiest+Guy' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Gudea' rel='stylesheet' type='text/css'>

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="css/fontello.css">

  <link rel="stylesheet" href="calendar/fullcalendar.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/mIcon.png">





  <!-- TEST!!! -->

<script src="calendar/lib/moment.min.js"></script>
<script src="calendar/lib/jquery.min.js"></script>
<script src="calendar/fullcalendar.js"></script>

<script src="script.js"></script>

<script>
  $(document).ready(function() {
//  this function will be used to retrieve the data for BOTH the my comics page AND the my calendar page. 

    var saveData = localStorage.getItem("allEntries")
    var dataList = JSON.parse(saveData);
// create a filled table that includes saved data
    if(dataList != null) {
      savedTable();
    }
    // else {
    //   $('#calendar').hide();
    //   $('#exampleCalendar').show();
    // }
// these functions are used in the if statement
    function savedTable() {
      var fullEvents = [];
      for(var i = 0; i < dataList.length; i++) {
        var newName = "<tr><td class = 'newSeriesName' id = '" + dataList[i]['seriesName'] + "'><b>" + dataList[i]["seriesName"] + "</b></td>";
        var newNext = "<td id = 'newComicNext'>" + dataList[i]["seriesNext"] + "</td>";
        var newRelease = "<td>" + dataList[i]["seriesRelease"] + "</td>";
        var newDesc = "<td>" + dataList[i]["seriesDesc"] + "</td>";
        var newThumb = "<td><img src = '" + dataList[i]["seriesThumb"] + "'></td>";
        var deleteSeries = "<td id='deleteMe'><i class='icon-cancel-circled2-1'></i></td></tr>";

        var calendarNext = dataList[i]["seriesNext"];
        var calendarRelease = dataList[i]["seriesRelease"];
        var calendarArray = {
          title: calendarNext,
          start: calendarRelease,
          allDay: true
        }
        fullEvents[i] = calendarArray;
        $('#myComicsTable').append(newName+newNext+newRelease+newDesc+newThumb+deleteSeries);
      }
      makeCalendar(fullEvents);
    }     

    function makeCalendar(test) {
      console.log(test);
      $('#calendar').fullCalendar({
        events: test
      })
      $('#calendar').hide();      
    }
  });

// this information V is for deleting stuff, which we'll fix later.

    // $('.icon-cancel-circled2-1').click(function() {
    //   var rawKey = $(this).parent().siblings().get(0).id;
    //   var key = '"' + rawKey + '"';
    //   localStorage.removeItem(key);
    //   localStorage.setItem("allEntries", JSON.stringify(existingEntries));
    // })

</script>





</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

<!-- nav bar -->
<div class="wrapper" id = "navBarWrapper">
    <div class="navBar">
      <h1 id="marvelFinder"><span id="title1">Marvel</span><span id="title2">Finder</span></h1>
      <button id="clear">Clear</button>
      <button id="home">Home</button>
      <button id="browse">Browse</button>
      <button id="myComics">My Comics</button>
      <button id="myCalendar">Calendar</button>
      <section id="fetch2">
        <input type="text" placeholder="search" id="navTerm" class="term" />
        <button id="navSearch" class="searchButton">Go</button>
      </seciton>
    </div>
</div>

<div class="divider" id="headerBar"></div>


<!-- ********************* MAIN PAGE **************************** -->

  <!-- eye catcher -->

<div class="contentWrapper" id="mainPage">
  <div class="row" id="eyePopper">
    <div class="six columns" id="hook">
      <h3 id = "primaryOne">Your comics,</h3><h3 id = "primaryTwo">made easy!</h3>
      <p>Never miss a comic again! Marvel Finder allows you to track your favorite series, and always know when the next issue will be released. Our convenient calendar page also syncs upcoming issues with your Google Calendar at the click of a button. It's the perfect tool for any comic enthusiast that's sick of constantly checking release dates online!</p>
    </div>
  </div>

  <!-- 3 columns -->

  <div class="row" id="siteDesc">
    <div class="four columns picLink" id="spiderman">
      <h5>Find Comics</h5>
    </div>
    <div class="four columns picLink" id="deadpool">
      <h5>Save Your Favorites</h5>
    </div>
    <div class="four columns picLink" id="ghostRider">
      <h5>Keep Track</h5>
    </div>
  </div>
</div>

<!-- ********** BROWSE COMICS *************** -->

<div class="content" id="browseComics">
  <div class="row">
    <div class="six columns">
      <button id="refresh">Refresh Search</button>

      <section id="browseOne">
        <h1>Find Comics</h1>
        <p>Never miss a comic again! Marvel Finder allows you to track your favorite series, and always know when the next issue will be released. Our convenient calendar page also syncs upcoming issues with your Google Calendar at the click of a button. It's the perfect tool for any comic enthusiast that's sick of constantly checking release dates online.</p>
      </section>

      <section id="browseTwo">
        <h1>Find Comics</h1>
        <p>Never miss a comic again! Marvel Finder allows you to track your favorite series, and always know when the next issue will be released. Our convenient calendar page also syncs upcoming issues with your Google Calendar at the click of a button. It's the perfect tool for any comic enthusiast that's sick of constantly checking release dates online.</p>
        <p id="optionOne"></p>
        <p id="optionTwo"></p>
        <p id="optionThree"></p>
      </section>

      <section id="browseThree">
        <h1 id="title"></h1>
        <p id="comicDescription"></p>
        <p id="comicAvail"></p>
        <p><span id="rating"></span></p>
        <p id="upcoming"></p>
        <p><span id="creatorsNumber"></span></p>
        <a id="url" target="_blank"><p id="urlText"></p></a>
        <button id="save">Save This Series</button> 
        <div id="saved"><h1>Saved!</h1></div>  
      </section>

      <section id="serverResponses">
        <h1 id="response"></h1>
        <p id="error">
      </section>

      <section id="browseLoading">
        <h1 id="loading" class="testOne">Loading</h1>
        <img src="/images/loading.gif" id="loadingGif" class="testTwo">
      </section> 

      <section id="fetch" class="defaultSearch">
        <input type="text" placeholder="search" id="browseTerm" class="term" />
        <button id="search" class="searchButton">Go</button>   
      </section>
    </div>

    <div class="six columns">
    <section class="browseFour">
      <img id="thumbnail" class="defaultThumb" src="/images/guardians.png">
      <p id="creators" style="color:black;"></p>
      <div id="ratingSystem">
        <p><b>ALL AGES</b> - Appropriate for all ages</p>
        <p><b>T</b> - Appropriate for most readers, but parents are advised that they might want to read before or with younger children</p>
        <p><b>T+ TEENS AND UP</b> - Appropriate for teens 13 and above</p>
        <p><b>PARENTAL ADVISORY</b> - Appropriate for older teens. Similar to T+, but featuring more mature themes and/or more graphic imagery. Recommended for teen and adult readers</p>
        <p><b>MAX: EXPLICIT CONTENT</b>Designed to appear distinct from mainline Marvel titles, with the "MAX: Explicit Content" label very prominently displayed on the cover. They will <i>not</i> be sold on the newsstand, and they will <i>not</i> be sold to younger readers.</p>
      </section>
      </div>
    </div>
  </div>
</div>

<!-- ************************************************** MY COMICS **************************************************************** -->

<div class="content" id="myComicsList">

<h1>These are your chosen favorites</h1>
<table id="myComicsTable">
  <tr id="tableIndex">
    <th>Series Name</th>
    <th>Next Issue</th>
    <th>Release Date</th>
    <th>Description</th>
    <th>Thumbnail</th>
    <th>Delete</th>
  </tr>
</table>

</div>

<!-- ************************************** CALENDAR *********************** -->

  <div id="calendar"></div>
  <div id="exampleCalendar">
  <div class = "six columns">
  <img src="/images/exampleCalendar.png">
  </div>
  <div class="six columns">
  <p>hello</p>
  </div>
  </div>






















  <!-- botom bar -->

<div class="divider" id="footerBar"></div>

  <!-- footer -->

  <footer>Data provided by Marvel. All images are © 2015 <a href="https://marvel.com">Marvel</a>. If you have any questions, or anything isn't working, please email me at <a href="mailto:nanja.space@gmail.com">nanja.space@gmail.com</a></footer>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
